(function(e){function t(t){for(var a,r,s=t[0],l=t[1],c=t[2],p=0,m=[];p<s.length;p++)r=s[p],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(a=!1)}a&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={app:0},o=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/vzsoi/verint/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1ec2":function(e,t,n){},3697:function(e,t,n){},5452:function(e,t,n){"use strict";var a=n("af35"),i=n.n(a);i.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header"),n("UploadFile")],1)},o=[],r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("nav",{staticClass:"navbar navbar-light bg-light fixed-top"},[n("div",{staticClass:"row top-menu"},[n("div",{staticClass:"col offset-2"},[n("a",{attrs:{href:"/vzsoi/verint/readme.html",target:"_blank"}},[e._v("Click Here")]),e._v(" to find notes on promises ")]),n("div",{staticClass:"col offset-1"},[n("a",{attrs:{href:"/vzsoi/verint/second.html",target:"_blank"}},[e._v("Click Here")]),e._v(" to find notes on promises ")])]),n("a",{staticClass:"navbar-brand",attrs:{href:"/"}})]),n("div",{staticClass:"header__bottom-section"},[n("h1",{staticClass:"text-dark mt-2"},[e._v("Agent's Notes Labeling Utility")])])])}],l=(n("5452"),n("2877")),c={},u=Object(l["a"])(c,r,s,!1,null,null,null),p=u.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},[n("form",{attrs:{enctype:"multipart/form-data"}},[n("div",{staticClass:"input-group"},[n("div",{staticClass:"custom-file"},[n("input",{ref:"file",staticClass:"custom-file-input",attrs:{type:"file",id:"custom-file"},on:{change:e.uploadFile}}),n("label",{staticClass:"custom-file-label",attrs:{for:"custom-file"}},[e._v(e._s(e.selectedFileName))])]),n("div",{staticClass:"input-group-append"})])])]),e.csvDataArray.length>0?n("TableView",{attrs:{"csv-data-array":e.csvDataArray,"file-name":e.selectedFileName,"first-row-titles":e.firstRowTitles,"colum-visibility-map":e.columVisibilityMap,"read-only-columns-length":e.readOnlyColumnsLength,"paragraph-column":e.paragraphColumn,"speaker-column":e.speakerColumn,"context-menu-dropdown-arrays":e.contextMenuDropdownArrays,"cpn-column":e.cpnColumn}}):e._e()],1)},d=[],f=(n("b0c0"),n("d3b7"),n("ac1f"),n("25f0"),n("1276"),n("498a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("table",{staticClass:"table table-hover my-3",attrs:{id:"newTable"}},[n("tbody",[n("tr",{attrs:{id:"tableHead"}},e._l(e.firstRowTitles,(function(t,a){return n("td",{directives:[{name:"show",rawName:"v-show",value:e.columVisibilityMap[a],expression:"columVisibilityMap[col]"}],key:"header-col-"+a,ref:"col"+a,refInFor:!0,class:"col"+a},[n("b",[e._v(" "+e._s(t)+" ")])])})),0),e._l(e.csvDataArray,(function(t,a){return n("tr",{key:"table-row-"+a},e._l(t,(function(t,i){return n("td",{directives:[{name:"show",rawName:"v-show",value:e.columVisibilityMap[i],expression:"columVisibilityMap[col]"}],key:"table-row-"+a+"-col-"+i},[i==e.paragraphColumn+1&&0==a||i==e.cpnColumn&&0==a?n("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.csvDataArray[a][i],expression:"csvDataArray[row][col]",modifiers:{lazy:!0}},{name:"sameer",rawName:"v-sameer",value:{col:i,annonCol:e.paragraphColumn+1,cpnCol:e.cpnColumn,eventBus:e.eventBus},expression:"{\n              col: col,\n              annonCol: paragraphColumn + 1,\n              cpnCol: cpnColumn,\n              eventBus: eventBus\n            }"}],ref:"col"+i,refInFor:!0,class:"col"+i,attrs:{"data-row":a,"data-col":i,rows:e.getTextAreaRows(i,t),cols:e.getTextAreaCols(i,t),readonly:i<e.readOnlyColumnsLength},domProps:{value:e.csvDataArray[a][i]},on:{"some-event":e.someEvent,contextmenu:function(t){return e.selectSpeakerActive(t,i)},change:function(t){return e.$set(e.csvDataArray[a],i,t.target.value)}}}):n("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.csvDataArray[a][i],expression:"csvDataArray[row][col]",modifiers:{lazy:!0}}],ref:"col"+i,refInFor:!0,class:"col"+i,attrs:{"data-row":a,"data-col":i,rows:e.getTextAreaRows(i,t),cols:e.getTextAreaCols(i,t),readonly:i<e.readOnlyColumnsLength},domProps:{value:e.csvDataArray[a][i]},on:{contextmenu:function(t){return e.selectSpeakerActive(t,i)},change:function(t){return e.$set(e.csvDataArray[a],i,t.target.value)}}})])})),0)}))],2)]),n("div",{staticClass:"circular-button-fab show-after-upload",on:{click:e.exportTableToCSV}},[e._v(" ↓ ")]),n("br"),n("br"),n("TableFooter",{key:e.footerKey,attrs:{"first-row-titles":e.firstRowTitles,"column-visibility-map":e.columVisibilityMap}}),n("ContextMenu",{attrs:{"first-row-titles":e.firstRowTitles,"is-speaker-selected":e.isSpeakerSelected,"paragraph-column":e.paragraphColumn,"speaker-column":e.speakerColumn,"context-menu-dropdown-arrays":e.contextMenuDropdownArrays},on:{"send-result-values":e.handleSelectedText}})],1)}),h=[],v=(n("99af"),n("c975"),n("a15b"),n("a434"),n("3ca3"),n("5319"),n("ddb0"),n("2b3d"),n("2909")),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{ref:"context-menu",staticClass:"context-menu",attrs:{id:"context-menu"}},[n("input",{ref:"selectedRow",attrs:{type:"hidden",value:"-1",id:"selectedRow"}}),n("input",{ref:"speakerColSelected",attrs:{type:"hidden",value:"false",id:"speakerColSelected"}}),n("ul",{staticClass:"context-menu__items"},e._l(e.contextMenuArray,(function(t,a){return n("li",{directives:[{name:"show",rawName:"v-show",value:e.shouldShow(a),expression:"shouldShow(index)"}],key:a,class:{"context-menu__item":!0,"context-menu__item-multiple":e.isMultipleDropdown(t)}},[n("a",{staticClass:"context-menu__link",attrs:{href:"#"},on:{click:function(n){return e.handleContextClick(t)}}},[e._v(e._s(t)+" ")]),e.isTopicDropdown(t)?n("ul",{staticClass:"context-menu__items context-menu__subitem context-menu-parent"},e._l(e.contextMenuDropdownArrays["topic"],(function(a,i){return n("li",{key:i,staticClass:"context-menu__sub-item context-menu__sub-item-multiple context-menu__sub-item-topic"},[n("a",{staticClass:"context-menu__link",attrs:{href:"#"}},[e._v(" "+e._s(i)+" → ")]),n("ul",{staticClass:"context-menu__items context-menu__sub-subitem"},e._l(a,(function(a){return n("li",{key:a,staticClass:"context-menu__sub-item"},[n("a",{staticClass:"context-menu__link",attrs:{href:"#"},on:{click:function(n){return e.handleDropdownClick(t,a)}}},[e._v(" "+e._s(a)+" ")])])})),0)])})),0):e._e(),e.isPromiseDropdown(t)?n("ul",{staticClass:"context-menu__items context-menu__subitem"},e._l(e.contextMenuDropdownArrays["promise"],(function(a){return n("li",{key:a,staticClass:"context-menu__sub-item context-menu__sub-item-multiple"},[n("a",{staticClass:"context-menu__link",attrs:{href:"#"},on:{click:function(n){return e.handleDropdownClick(t,a)}}},[e._v(" "+e._s(a)+" ")])])})),0):e._e()])})),0)])},C=[],y={data:function(){return{taskItemParagaphInContext:null,taskItemSpeakerInContext:null,contextMenuLinkClassName:"context-menu__link",contextMenuActive:"context-menu--active",menuState:0,menuWidth:null,menuHeight:null,clickCoords:null,clickCoordsX:null,clickCoordsY:null,windowWidth:null,windowHeight:null}},methods:{clickInsideElement:function(e,t){var n=e.srcElement||e.target;if(n.classList.contains(t))return n;while(n=n.parentNode)if(n.classList&&n.classList.contains(t))return n;return!1},contextListener:function(e){var t=this;document.addEventListener("contextmenu",(function(n){t.taskItemParagaphInContext=t.clickInsideElement(n,t.taskItemParagraphClassName),t.taskItemSpeakerInContext=t.clickInsideElement(n,t.taskItemSpeakerClassName),t.taskItemParagaphInContext?(n.preventDefault(),t.toggleMenuOn(e),t.positionMenu(n,e),document.getElementById("speakerColSelected").value=!1):t.taskItemSpeakerInContext?(n.preventDefault(),t.toggleMenuOn(e),t.positionMenu(n,e),document.getElementById("speakerColSelected").value=!0):(t.taskItemParagaphInContext=null,t.taskItemSpeakerInContext=null,t.toggleMenuOff(e))}))},getPosition:function(e){var t=0,n=0;return e||(e=window.event),e.pageX||e.pageY?(t=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:n}},clickListener:function(e){var t=this;document.addEventListener("click",(function(n){var a=t.clickInsideElement(n,t.contextMenuLinkClassName);if(a)n.preventDefault(),t.menuItemListener(e,a);else{var i=n.which||n.button;1===i&&t.toggleMenuOff(e)}}))},keyupListener:function(e){var t=this;window.onkeyup=function(n){27===n.keyCode&&t.toggleMenuOff(e)}},resizeListener:function(e){var t=this;window.onresize=function(n){t.toggleMenuOff(e)}},toggleMenuOn:function(e){1!==this.menuState&&(this.menuState=1,e.classList.add(this.contextMenuActive))},toggleMenuOff:function(e){0!==this.menuState&&(this.menuState=0,e.classList.remove(this.contextMenuActive))},positionMenu:function(e,t){this.clickCoords=this.getPosition(e),this.clickCoordsX=this.clickCoords.x,this.clickCoordsY=this.clickCoords.y,document.getElementById("selectedRow").value=e.target.getAttribute("data-row"),this.menuWidth=t.offsetWidth+4,this.menuHeight=t.offsetHeight+4,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight;var n=document.documentElement,a=(window.pageXOffset||n.scrollLeft,n.clientLeft,(window.pageYOffset||n.scrollTop)-(n.clientTop||0));this.isSpeakerSelected?(t.style.top=this.clickCoordsY-90+"px",t.style.left=this.clickCoordsX+20+"px"):(t.style.top=a+10+"px",t.style.left=this.clickCoordsX+20+"px")},menuItemListener:function(e,t){this.toggleMenuOff(e)},initializeClipboard:function(e){this.contextListener(e),this.clickListener(e),this.keyupListener(e),this.resizeListener(e)}}},w={props:["firstRowTitles","isSpeakerSelected","paragraphColumn","speakerColumn","contextMenuDropdownArrays"],mixins:[y],data:function(){return{contextMenuArray:Object(v["a"])(this.firstRowTitles),taskItemParagraphClassName:"col"+this.paragraphColumn,taskItemSpeakerClassName:"col"+this.speakerColumn}},mounted:function(){this.contextMenuArray.push("Both","Neither"),this.contextMenuArray.splice(0,this.paragraphColumn+2),this.initializeClipboard(this.$refs["context-menu"])},computed:{},methods:{shouldShow:function(e){var t=this.contextMenuArray.length-4;return this.isSpeakerSelected?e>=t:e<t},handleDropdownClick:function(e,t){var n=this.firstRowTitles.indexOf(e),a=this.$refs["selectedRow"].value;this.$emit("send-result-values",{row:a,col:n,text:t})},isMultipleDropdown:function(e){return"TOPIC1"==e||"TOPIC2"==e||"promise1"==e||"promise2"==e||"agent"==e||"customer"==e},isTopicDropdown:function(e){return"topic"==e.substring(0,e.length-1).toLowerCase()},isPromiseDropdown:function(e){return"promise"==e.substring(0,e.length-1).toLowerCase()},handleContextClick:function(e){var t=this.firstRowTitles.indexOf(e),n=this.getSelectionText();-1==t&&("Both"!==e&&"Neither"!==e||(t=this.firstRowTitles.indexOf("agent"),n=e));var a=this.$refs["selectedRow"].value;this.$emit("send-result-values",{row:a,col:t,text:n})},getSelectionText:function(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(e=document.selection.createRange().text),e}}},_=w,b=(n("9789"),Object(l["a"])(_,g,C,!1,null,null,null)),x=b.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer"},e._l(this.firstRowTitles,(function(t,a){return n("div",{key:t,staticClass:"form-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.columnVisibilityMap[a],expression:"columnVisibilityMap[index]"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.columnVisibilityMap[a])?e._i(e.columnVisibilityMap[a],null)>-1:e.columnVisibilityMap[a]},on:{change:function(t){var n=e.columnVisibilityMap[a],i=t.target,o=!!i.checked;if(Array.isArray(n)){var r=null,s=e._i(n,r);i.checked?s<0&&e.$set(e.columnVisibilityMap,a,n.concat([r])):s>-1&&e.$set(e.columnVisibilityMap,a,n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.columnVisibilityMap,a,o)}}}),n("label",{staticClass:"form-check-label",attrs:{for:t}},[e._v(" "+e._s(t)+" ")])])})),0)},A=[],M={props:["firstRowTitles","columnVisibilityMap"],data:function(){return{}},methods:{}},D=M,S=(n("da33"),Object(l["a"])(D,k,A,!1,null,null,null)),T=S.exports,I={components:{ContextMenu:x,TableFooter:T},props:["csvDataArray","fileName","firstRowTitles","columVisibilityMap","readOnlyColumnsLength","contextMenuDropdownArrays","paragraphColumn","speakerColumn","cpnColumn"],directives:{sameer:{bind:function(e,t,n){t.value.col==t.value.annonCol?e.addEventListener("keyup",(function(e){t.value.eventBus.$emit("changeAnnonatorValue",e.target.value)})):t.value.col==t.value.cpnCol&&e.addEventListener("keyup",(function(e){t.value.eventBus.$emit("changeCpnValue",e.target.value)}))}}},created:function(){var e=this;this.eventBus.$on("changeAnnonatorValue",(function(t){e.changeAnnonatorField(t)})),this.eventBus.$on("changeCpnValue",(function(t){e.changeCpnField(t)}))},data:function(){return{eventBus:z,footerKey:0,isSpeakerSelected:!1,orginalColumVisibilityMap:Object(v["a"])(this.columVisibilityMap)}},methods:{getTextAreaRows:function(e,t){var n;t=t.replace(/\./g,""),n=e==this.paragraphColumn?35:13;var a=t.length;if(a>n){var i=Math.ceil(a/n);return i}return 1},getTextAreaCols:function(e,t){return e==this.paragraphColumn?45:20},exportTableToCSV:function(){var e=[];e.push(this.firstRowTitles.join(","));for(var t=0;t<this.csvDataArray.length;t++){for(var n=this.csvDataArray[t],a=0;a<this.csvDataArray[t].length;a++)this.csvDataArray[t][a]=this.csvDataArray[t][a].replace(/\n/g,"").trim();var i=n.join(",");e.push(i)}var o,r,s=e.join("\n");o=new Blob([s],{type:"text/plain",endings:"native"}),r=document.createElement("a"),r.download="label_"+this.fileName,r.href=window.URL.createObjectURL(o),r.style.display="none",document.body.appendChild(r),r.click()},handleSelectedText:function(e){if(""==e.text)alert("empty text");else{var t=e.text.trim(),n=this.csvDataArray[e.row][this.speakerColumn];if("speaker1"==t.toLowerCase()||"speaker2"==t.toLowerCase()||"channel_1"==t.toLowerCase()||"channel_2"==t.toLowerCase())for(var a=0;a<this.csvDataArray.length;a++){var i=this.csvDataArray[a].indexOf(n);-1!=i&&(console.log("I am here in row number "+a+" col no is "+e.col),this.csvDataArray[a][e.col]=n)}this.csvDataArray[e.row][e.col]=t,this.columVisibilityMap[e.col]=!0,this.forceRerenderFooter()}this.$forceUpdate()},replaceArray:function(e,t){[].splice.apply(e,[0,e.length].concat(t))},selectSpeakerActive:function(e,t){if(t==this.speakerColumn){var n=e.target;n.focus(),n.select(),this.isSpeakerSelected=!0}else this.isSpeakerSelected=!1},forceRerenderFooter:function(){this.footerKey+=1},changeAnnonatorField:function(e){for(var t=0;t<this.csvDataArray.length;t++)this.csvDataArray[t][this.paragraphColumn+1]=e},changeCpnField:function(e){for(var t=0;t<this.csvDataArray.length;t++)this.csvDataArray[t][this.cpnColumn]=e},someEvent:function(){console.log("Some event")}}},O=I,L=(n("5817"),Object(l["a"])(O,f,h,!1,null,null,null)),P=L.exports,R={components:{TableView:P},data:function(){return{selectedFileName:"Choose File",csvFile:null,initialTableDataArray:[],columnNamesArray:[],cpn_name:"",csvDataArray:[],firstRowTitles:["fnum","line","speaker","paragraph","annotators_name","TOPIC1","twrd1","pharse1","TOPIC2","twrd2","pharse2","sentiment_phrase1","sentiment_phrase2","promise1","pwrd1","promise_phrase1","promise2","pwrd2","promise_phrase2","promise_comment","cpn_name","agent","customer"],columVisibilityMap:[!1,!1,!0,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1],contextMenuDropdownArrays:{topic:{"CD DISC":["Disconnect"],"CD BILL":["Bill Explanation"],"CD EQIP":["How to Setup/Activate","Setup/Activation Issues"],"CD ACCT":["Port Status","Assumption of Liability","Insurance (TEC/TMP)","Corporate Information","Call Message Block","Change MTN","Prepaid Information","Spam/Spoof"],"CD TRBL":["Voice","Date Connection/Browser","Device Settings & Issues"],"CD PYMT":["Promise to Pay","Make Payment INTL"],"CD INTL":["Travel Pass","International Plan Feature Optl"],"CD PLAN":["Review Current PLAN","Add/Change"],"CD UPGR":["Marketing/Promotional Offers","Device Trade in/Recycling"],"CD BILL ELEU":["Discount"]},promise:["Call_back","Drop_ship","Dispatch","Send_to_offline","No_charge","Transfer","First_appointment","Sooner_appointment","Will_be_there_today","Refer_to_other_group","Outage_will_be_resolved_by_time","OTHER","NO_PROMISE","BROKEN_PROMISE","promise_cancelled"]},readOnlyColumnsLength:4,paragraphColumn:3,speakerColumn:2,cpnColumn:20}},methods:{getExtension:function(e){e=e.toString();var t=e.split(".");return t[t.length-1].trim()},readFile:function(){var e=this,t=new FileReader;window.File&&window.FileReader&&window.FileList&&window.Blob?(t.onload=function(t){var n=t.target.result.split("\n");e.csvDataArray=[];for(var a=e.firstRowTitles.length,i=1;i<n.length;i++){var o=n[i].split(","),r=a-o.length;if(r>0)for(var s=0;s<r;s++)o.push("");for(var l=[],c=0;c<o.length;c++)o[c].trim().length>0&&c>e.speakerColumn&&(e.columVisibilityMap[c]=!0),l.push(o[c]);e.csvDataArray.push(l)}},t.readAsText(this.file)):alert("The File APIs are not fully supported in this browser.")},uploadFile:function(){this.file=this.$refs.file.files[0],this.file&&this.file.name&&this.getExtension(this.file.name)?(this.selectedFileName=this.file.name.toString(),this.readFile()):alert("Invalid file, Please upload a csv file")}}},E=R,N=Object(l["a"])(E,m,d,!1,null,null,null),V=N.exports,F={name:"app",components:{Header:p,UploadFile:V}},$=F,B=Object(l["a"])($,i,o,!1,null,null,null),j=B.exports,H=n("5f5b");n("f9e3"),n("2dd8");n.d(t,"bus",(function(){return z})),a["default"].config.productionTip=!1,a["default"].use(H["a"]);var z=new a["default"];new a["default"]({render:function(e){return e(j)}}).$mount("#app")},5817:function(e,t,n){"use strict";var a=n("f579"),i=n.n(a);i.a},9789:function(e,t,n){"use strict";var a=n("1ec2"),i=n.n(a);i.a},af35:function(e,t,n){},da33:function(e,t,n){"use strict";var a=n("3697"),i=n.n(a);i.a},f579:function(e,t,n){}});
//# sourceMappingURL=app.126af82e.js.map