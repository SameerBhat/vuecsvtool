(function(e){function t(t){for(var i,o,s=t[0],l=t[1],c=t[2],p=0,d=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(i=!1)}i&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},a={app:0},r=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="'/vzsoi/verint'/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1ec2":function(e,t,n){},3697:function(e,t,n){},5452:function(e,t,n){"use strict";var i=n("af35"),a=n.n(i);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header"),n("UploadFile")],1)},r=[],o=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("nav",{staticClass:"navbar navbar-light bg-light fixed-top"},[n("div",{staticClass:"row top-menu"},[n("div",{staticClass:"col offset-2"},[n("a",{attrs:{href:"/vzsoi/verint/readme.html",target:"_blank"}},[e._v("Click Here")]),e._v(" to find notes on promises ")]),n("div",{staticClass:"col offset-1"},[n("a",{attrs:{href:"/vzsoi/verint/second.html",target:"_blank"}},[e._v("Click Here")]),e._v(" to find notes on promises ")])]),n("a",{staticClass:"navbar-brand",attrs:{href:"/"}})]),n("div",{staticClass:"header__bottom-section"},[n("h1",{staticClass:"text-dark mt-2"},[e._v("Agent's Notes Labeling Utility")])])])}],l=(n("5452"),n("2877")),c={},u=Object(l["a"])(c,o,s,!1,null,null,null),p=u.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},[n("form",{attrs:{enctype:"multipart/form-data"}},[n("div",{staticClass:"input-group"},[n("div",{staticClass:"custom-file"},[n("input",{ref:"file",staticClass:"custom-file-input",attrs:{type:"file",id:"custom-file"},on:{change:e.uploadFile}}),n("label",{staticClass:"custom-file-label",attrs:{for:"custom-file"}},[e._v(e._s(e.selectedFileName))])]),n("div",{staticClass:"input-group-append"})])])]),e.csvDataArray.length>0?n("TableView",{attrs:{"csv-data-array":e.csvDataArray,"file-name":e.selectedFileName,"first-row-titles":e.firstRowTitles,"colum-visibility-map":e.columVisibilityMap,"read-only-columns-length":e.readOnlyColumnsLength,"paragraph-column":e.paragraphColumn,"speaker-column":e.speakerColumn,"context-menu-dropdown-arrays":e.contextMenuDropdownArrays}}):e._e()],1)},m=[],f=(n("b0c0"),n("d3b7"),n("ac1f"),n("25f0"),n("1276"),n("498a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("table",{staticClass:"table table-hover my-3",attrs:{id:"newTable"}},[n("tbody",[n("tr",{attrs:{id:"tableHead"}},e._l(e.firstRowTitles,(function(t,i){return n("td",{directives:[{name:"show",rawName:"v-show",value:e.columVisibilityMap[i],expression:"columVisibilityMap[col]"}],key:"header-col-"+i,ref:"col"+i,refInFor:!0,class:"col"+i},[n("b",[e._v(" "+e._s(t)+" ")])])})),0),e._l(e.csvDataArray,(function(t,i){return n("tr",{key:"table-row-"+i},e._l(t,(function(t,a){return n("td",{directives:[{name:"show",rawName:"v-show",value:e.columVisibilityMap[a],expression:"columVisibilityMap[col]"}],key:"table-row-"+i+"-col-"+a},[e.getTextAreaRows(a,t)>.9?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.csvDataArray[i][a],expression:"csvDataArray[row][col]"}],ref:"col"+a,refInFor:!0,class:"col"+a,attrs:{"data-row":i,"data-col":a,rows:e.getTextAreaRows(a,t),cols:e.getTextAreaCols(a,t),readonly:a<e.readOnlyColumnsLength},domProps:{value:e.csvDataArray[i][a]},on:{contextmenu:function(t){return e.selectSpeakerActive(t,a)},input:function(t){t.target.composing||e.$set(e.csvDataArray[i],a,t.target.value)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.csvDataArray[i][a],expression:"csvDataArray[row][col]"}],ref:"col"+a,refInFor:!0,class:"col"+a,attrs:{"data-row":i,"data-col":a,type:"text",readonly:a<e.readOnlyColumnsLength},domProps:{value:e.csvDataArray[i][a]},on:{contextmenu:function(t){return e.selectSpeakerActive(t,a)},input:function(t){t.target.composing||e.$set(e.csvDataArray[i],a,t.target.value)}}})])})),0)}))],2)]),n("div",{staticClass:"circular-button-fab show-after-upload",on:{click:e.exportTableToCSV}},[e._v(" ↓ ")]),n("br"),n("br"),n("TableFooter",{key:e.footerKey,attrs:{"first-row-titles":e.firstRowTitles,"column-visibility-map":e.columVisibilityMap}}),n("ContextMenu",{attrs:{"first-row-titles":e.firstRowTitles,"is-speaker-selected":e.isSpeakerSelected,"paragraph-column":e.paragraphColumn,"speaker-column":e.speakerColumn,"context-menu-dropdown-arrays":e.contextMenuDropdownArrays},on:{"send-result-values":e.handleSelectedText}})],1)}),h=[],v=(n("99af"),n("a15b"),n("a434"),n("3ca3"),n("5319"),n("ddb0"),n("2b3d"),n("2909")),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{ref:"context-menu",staticClass:"context-menu",attrs:{id:"context-menu"}},[n("input",{ref:"selectedRow",attrs:{type:"hidden",value:"-1",id:"selectedRow"}}),n("input",{ref:"speakerColSelected",attrs:{type:"hidden",value:"false",id:"speakerColSelected"}}),n("ul",{staticClass:"context-menu__items"},e._l(e.contextMenuArray,(function(t,i){return n("li",{directives:[{name:"show",rawName:"v-show",value:e.shouldShow(i),expression:"shouldShow(index)"}],key:i,class:{"context-menu__item":!0,"context-menu__item-multiple":e.isMultipleDropdown(t)}},[n("a",{staticClass:"context-menu__link",attrs:{href:"#"},on:{click:function(n){return e.handleContextClick(t)}}},[e._v(e._s(t)+" ")]),e.isTopicDropdown(t)?n("ul",{staticClass:"context-menu__items context-menu__subitem context-menu-parent"},e._l(e.contextMenuDropdownArrays["topic"],(function(i,a){return n("li",{key:a,staticClass:"context-menu__sub-item context-menu__sub-item-multiple context-menu__sub-item-topic"},[n("a",{staticClass:"context-menu__link",attrs:{href:"#"}},[e._v(" "+e._s(a)+" → ")]),n("ul",{staticClass:"context-menu__items context-menu__sub-subitem"},e._l(i,(function(i){return n("li",{key:i,staticClass:"context-menu__sub-item"},[n("a",{staticClass:"context-menu__link",attrs:{href:"#"},on:{click:function(n){return e.handleDropdownClick(t,i)}}},[e._v(" "+e._s(i)+" ")])])})),0)])})),0):e._e(),e.isPromiseDropdown(t)?n("ul",{staticClass:"context-menu__items context-menu__subitem"},e._l(e.contextMenuDropdownArrays["promise"],(function(i){return n("li",{key:i,staticClass:"context-menu__sub-item context-menu__sub-item-multiple"},[n("a",{staticClass:"context-menu__link",attrs:{href:"#"},on:{click:function(n){return e.handleDropdownClick(t,i)}}},[e._v(" "+e._s(i)+" ")])])})),0):e._e()])})),0)])},y=[],w=(n("c975"),{data:function(){return{taskItemParagaphInContext:null,taskItemSpeakerInContext:null,contextMenuLinkClassName:"context-menu__link",contextMenuActive:"context-menu--active",menuState:0,menuWidth:null,menuHeight:null,clickCoords:null,clickCoordsX:null,clickCoordsY:null,windowWidth:null,windowHeight:null}},methods:{clickInsideElement:function(e,t){var n=e.srcElement||e.target;if(n.classList.contains(t))return n;while(n=n.parentNode)if(n.classList&&n.classList.contains(t))return n;return!1},contextListener:function(e){var t=this;document.addEventListener("contextmenu",(function(n){t.taskItemParagaphInContext=t.clickInsideElement(n,t.taskItemParagraphClassName),t.taskItemSpeakerInContext=t.clickInsideElement(n,t.taskItemSpeakerClassName),t.taskItemParagaphInContext?(n.preventDefault(),t.toggleMenuOn(e),t.positionMenu(n,e),document.getElementById("speakerColSelected").value=!1):t.taskItemSpeakerInContext?(n.preventDefault(),t.toggleMenuOn(e),t.positionMenu(n,e),document.getElementById("speakerColSelected").value=!0):(t.taskItemParagaphInContext=null,t.taskItemSpeakerInContext=null,t.toggleMenuOff(e))}))},getPosition:function(e){var t=0,n=0;return e||(e=window.event),e.pageX||e.pageY?(t=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:n}},clickListener:function(e){var t=this;document.addEventListener("click",(function(n){var i=t.clickInsideElement(n,t.contextMenuLinkClassName);if(i)n.preventDefault(),t.menuItemListener(e,i);else{var a=n.which||n.button;1===a&&t.toggleMenuOff(e)}}))},keyupListener:function(e){var t=this;window.onkeyup=function(n){27===n.keyCode&&t.toggleMenuOff(e)}},resizeListener:function(e){var t=this;window.onresize=function(n){t.toggleMenuOff(e)}},toggleMenuOn:function(e){1!==this.menuState&&(this.menuState=1,e.classList.add(this.contextMenuActive))},toggleMenuOff:function(e){0!==this.menuState&&(this.menuState=0,e.classList.remove(this.contextMenuActive))},positionMenu:function(e,t){this.clickCoords=this.getPosition(e),this.clickCoordsX=this.clickCoords.x,this.clickCoordsY=this.clickCoords.y,document.getElementById("selectedRow").value=e.target.getAttribute("data-row"),this.menuWidth=t.offsetWidth+4,this.menuHeight=t.offsetHeight+4,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,t.style.top=this.clickCoordsY+"px",t.style.left=this.clickCoordsX+20+"px"},menuItemListener:function(e,t){this.toggleMenuOff(e)},initializeClipboard:function(e){this.contextListener(e),this.clickListener(e),this.keyupListener(e),this.resizeListener(e)}}}),C={props:["firstRowTitles","isSpeakerSelected","paragraphColumn","speakerColumn","contextMenuDropdownArrays"],mixins:[w],data:function(){return{contextMenuArray:Object(v["a"])(this.firstRowTitles),taskItemParagraphClassName:"col"+this.paragraphColumn,taskItemSpeakerClassName:"col"+this.speakerColumn}},mounted:function(){this.contextMenuArray.splice(0,this.paragraphColumn+1),this.initializeClipboard(this.$refs["context-menu"])},computed:{},methods:{shouldShow:function(e){var t=this.contextMenuArray.length-2;return this.isSpeakerSelected?e>=t:e<t},handleDropdownClick:function(e,t){var n=this.firstRowTitles.indexOf(e),i=this.$refs["selectedRow"].value;this.$emit("send-result-values",{row:i,col:n,text:t})},isMultipleDropdown:function(e){return"TOPIC1"==e||"TOPIC2"==e||"promise1"==e||"promise2"==e||"agent"==e||"customer"==e},isTopicDropdown:function(e){return"topic"==e.substring(0,e.length-1).toLowerCase()},isPromiseDropdown:function(e){return"promise"==e.substring(0,e.length-1).toLowerCase()},handleContextClick:function(e){var t=this.firstRowTitles.indexOf(e),n=this.$refs["selectedRow"].value;this.$emit("send-result-values",{row:n,col:t,text:this.getSelectionText()})},getSelectionText:function(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(e=document.selection.createRange().text),e}}},_=C,b=(n("9789"),Object(l["a"])(_,g,y,!1,null,null,null)),x=b.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer"},e._l(this.firstRowTitles,(function(t,i){return n("div",{key:t,staticClass:"form-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.columnVisibilityMap[i],expression:"columnVisibilityMap[index]"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.columnVisibilityMap[i])?e._i(e.columnVisibilityMap[i],null)>-1:e.columnVisibilityMap[i]},on:{change:function(t){var n=e.columnVisibilityMap[i],a=t.target,r=!!a.checked;if(Array.isArray(n)){var o=null,s=e._i(n,o);a.checked?s<0&&e.$set(e.columnVisibilityMap,i,n.concat([o])):s>-1&&e.$set(e.columnVisibilityMap,i,n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.columnVisibilityMap,i,r)}}}),n("label",{staticClass:"form-check-label",attrs:{for:t}},[e._v(" "+e._s(t)+" ")])])})),0)},M=[],A={props:["firstRowTitles","columnVisibilityMap"],data:function(){return{}},methods:{}},S=A,D=(n("da33"),Object(l["a"])(S,k,M,!1,null,null,null)),T=D.exports,I={components:{ContextMenu:x,TableFooter:T},props:["csvDataArray","fileName","firstRowTitles","columVisibilityMap","readOnlyColumnsLength","contextMenuDropdownArrays","paragraphColumn","speakerColumn"],data:function(){return{footerKey:0,isSpeakerSelected:!1,orginalColumVisibilityMap:Object(v["a"])(this.columVisibilityMap)}},methods:{getTextAreaRows:function(e,t){var n;t=t.replace(/\./g,""),n=e==this.paragraphColumn?35:13;var i=t.length;if(i>n){var a=Math.ceil(i/n);return a}return 1},getTextAreaCols:function(e,t){return e==this.paragraphColumn?45:20},exportTableToCSV:function(){var e=[];e.push(this.firstRowTitles.join(","));for(var t=0;t<this.csvDataArray.length;t++){for(var n=this.csvDataArray[t],i=0;i<this.csvDataArray[t].length;i++)this.csvDataArray[t][i]=this.csvDataArray[t][i].replace(/\n/g,"").trim();var a=n.join(",");e.push(a)}var r,o,s=e.join("\n");r=new Blob([s],{type:"text/plain",endings:"native"}),o=document.createElement("a"),o.download="label_"+this.fileName,o.href=window.URL.createObjectURL(r),o.style.display="none",document.body.appendChild(o),o.click()},handleSelectedText:function(e){""==e.text?alert("empty text"):(this.csvDataArray[e.row][e.col]=e.text.trim(),this.replaceArray(this.columVisibilityMap,this.orginalColumVisibilityMap),this.columVisibilityMap[e.col]=!0,this.forceRerenderFooter()),this.$forceUpdate()},replaceArray:function(e,t){[].splice.apply(e,[0,e.length].concat(t))},selectSpeakerActive:function(e,t){if(t==this.speakerColumn){var n=e.target;n.focus(),n.select(),this.isSpeakerSelected=!0}else this.isSpeakerSelected=!1},forceRerenderFooter:function(){this.footerKey+=1}}},O=I,L=(n("5817"),Object(l["a"])(O,f,h,!1,null,null,null)),P=L.exports,R={components:{TableView:P},data:function(){return{selectedFileName:"Choose File",csvFile:null,initialTableDataArray:[],columnNamesArray:[],cpn_name:"",csvDataArray:[],firstRowTitles:["fnum","line","speaker","paragraph","annotators_name","TOPIC1","twrd1","pharse1","TOPIC2","twrd2","pharse2","sentiment_phrase1","sentiment_phrase2","promise1","pwrd1","promise_phrase1","promise2","pwrd2","promise_phrase2","promise_comment","cpn_name","agent","customer"],columVisibilityMap:[!1,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],contextMenuDropdownArrays:{topic:{"CD DISC":["Disconnect"],"CD BILL":["Bill Explanation"],"CD EQIP":["How to Setup/Activate","Setup/Activation Issues"],"CD ACCT":["Port Status","Assumption of Liability","Insurance (TEC/TMP)","Corporate Information","Call Message Block","Change MTN","Prepaid Information","Spam/Spoof"],"CD TRBL":["Voice","Date Connection/Browser","Device Settings & Issues"],"CD PYMT":["Promise to Pay","Make Payment INTL"],"CD INTL":["Travel Pass","International Plan Feature Optl"],"CD PLAN":["Review Current PLAN","Add/Change"],"CD UPGR":["Marketing/Promotional Offers","Device Trade in/Recycling"],"CD BILL ELEU":["Discount"]},promise:["Call_back","Drop_ship","Dispatch","Send_to_offline","No_charge","Transfer","First_appointment","Sooner_appointment","Will_be_there_today","Refer_to_other_group","Outage_will_be_resolved_by_time","OTHER","NO_PROMISE","BROKEN_PROMISE","promise_cancelled"]},readOnlyColumnsLength:4,paragraphColumn:3,speakerColumn:2}},methods:{getExtension:function(e){e=e.toString();var t=e.split(".");return t[t.length-1].trim()},readFile:function(){var e=this,t=new FileReader;window.File&&window.FileReader&&window.FileList&&window.Blob?(t.onload=function(t){var n=t.target.result.split("\n");e.csvDataArray=[];var i=e.firstRowTitles.length;console.log("total tiles length"+i);for(var a=1;a<n.length;a++){var r=n[a].split(","),o=i-r.length;if(console.log("length of csv tiles is :"+r.length),o>0)for(var s=0;s<o;s++)r.push("");console.log("length of fixed tiles :"+r.length);for(var l=[],c=0;c<r.length;c++)l.push(r[c]);e.csvDataArray.push(l)}},t.readAsText(this.file)):alert("The File APIs are not fully supported in this browser.")},uploadFile:function(){this.file=this.$refs.file.files[0],this.file&&this.file.name&&this.getExtension(this.file.name)?(this.selectedFileName=this.file.name.toString(),this.readFile()):alert("Invalid file, Please upload a csv file")}}},E=R,N=Object(l["a"])(E,d,m,!1,null,null,null),V=N.exports,F={name:"app",components:{Header:p,UploadFile:V}},j=F,$=Object(l["a"])(j,a,r,!1,null,null,null),H=$.exports,B=n("5f5b");n("f9e3"),n("2dd8");i["default"].config.productionTip=!1,i["default"].use(B["a"]),new i["default"]({render:function(e){return e(H)}}).$mount("#app")},5817:function(e,t,n){"use strict";var i=n("f579"),a=n.n(i);a.a},9789:function(e,t,n){"use strict";var i=n("1ec2"),a=n.n(i);a.a},af35:function(e,t,n){},da33:function(e,t,n){"use strict";var i=n("3697"),a=n.n(i);a.a},f579:function(e,t,n){}});
//# sourceMappingURL=app.61e66c85.js.map