(function(e){function t(t){for(var i,o,r=t[0],l=t[1],c=t[2],d=0,p=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,r=1;r<n.length;r++){var l=n[r];0!==s[l]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},s={app:0},a=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1ec2":function(e,t,n){},3697:function(e,t,n){},5452:function(e,t,n){"use strict";var i=n("af35"),s=n.n(i);s.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header"),n("UploadFile")],1)},a=[],o=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("nav",{staticClass:"navbar navbar-light bg-light fixed-top"},[n("div",{staticClass:"row top-menu"},[n("div",{staticClass:"col offset-2"},[n("a",{attrs:{href:"#"}},[e._v("Click Here")]),e._v(" to find notes on promises ")]),n("div",{staticClass:"col offset-1"},[n("a",{attrs:{href:"#"}},[e._v("Click Here")]),e._v(" to find notes on promises ")])]),n("a",{staticClass:"navbar-brand",attrs:{href:"/"}})]),n("div",{staticClass:"header__bottom-section"},[n("h1",{staticClass:"text-dark mt-2"},[e._v("Agent's Notes Labeling Tool v2")])])])}],l=(n("5452"),n("2877")),c={},u=Object(l["a"])(c,o,r,!1,null,null,null),d=u.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},[n("form",{attrs:{enctype:"multipart/form-data"}},[n("div",{staticClass:"input-group"},[n("div",{staticClass:"custom-file"},[n("input",{ref:"file",staticClass:"custom-file-input",attrs:{type:"file",id:"custom-file"},on:{change:e.uploadFile}}),n("label",{staticClass:"custom-file-label",attrs:{for:"custom-file"}},[e._v(e._s(e.selectedFileName))])]),n("div",{staticClass:"input-group-append"})])])]),e.csvDataArray.length>0?n("TableView",{attrs:{"csv-data-array":e.csvDataArray,"file-name":e.selectedFileName}}):e._e()],1)},f=[],m=(n("b0c0"),n("d3b7"),n("ac1f"),n("25f0"),n("1276"),n("498a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("table",{staticClass:"table table-hover my-3",attrs:{id:"newTable"}},[n("tbody",[n("tr",{attrs:{id:"tableHead"}},e._l(e.firstRowTitles,(function(t,i){return n("td",{directives:[{name:"show",rawName:"v-show",value:e.columVisibilityMap[i],expression:"columVisibilityMap[col]"}],key:"header-col-"+i,ref:"col"+i,refInFor:!0,class:"col"+i},[n("b",[e._v(e._s(t))])])})),0),e._l(e.csvDataArray,(function(t,i){return n("tr",{key:"table-row-"+i},e._l(t,(function(t,s){return n("td",{directives:[{name:"show",rawName:"v-show",value:e.columVisibilityMap[s],expression:"columVisibilityMap[col]"}],key:"table-row-"+i+"-col-"+s},[e.getTextAreaRows(t)>1?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.csvDataArray[i][s],expression:"csvDataArray[row][col]"}],ref:"col"+s,refInFor:!0,class:"col"+s,attrs:{"data-row":i,"data-col":s,rows:e.getTextAreaRows(t),readonly:s<4},domProps:{value:e.csvDataArray[i][s]},on:{contextmenu:function(t){return e.selectSpeakerActive(t,s)},input:function(t){t.target.composing||e.$set(e.csvDataArray[i],s,t.target.value)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.csvDataArray[i][s],expression:"csvDataArray[row][col]"}],ref:"col"+s,refInFor:!0,class:"col"+s,attrs:{"data-row":i,"data-col":s,type:"text",readonly:s<4},domProps:{value:e.csvDataArray[i][s]},on:{contextmenu:function(t){return e.selectSpeakerActive(t,s)},input:function(t){t.target.composing||e.$set(e.csvDataArray[i],s,t.target.value)}}})])})),0)}))],2)]),n("div",{staticClass:"circular-button-fab show-after-upload",on:{click:e.exportTableToCSV}},[e._v(" ↓ ")]),n("br"),n("br"),n("TableFooter",{attrs:{"first-row-titles":e.firstRowTitles,"column-visibility-map":e.columVisibilityMap}}),n("ContextMenu",{attrs:{"first-row-titles":e.firstRowTitles,"is-speaker-selected":e.isSpeakerSelected},on:{"send-result-values":e.handleSelectedText}})],1)}),h=[],v=(n("a15b"),n("3ca3"),n("ddb0"),n("2b3d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{ref:"context-menu",staticClass:"context-menu",attrs:{id:"context-menu"}},[n("input",{ref:"selectedRow",attrs:{type:"hidden",value:"-1",id:"selectedRow"}}),n("input",{ref:"speakerColSelected",attrs:{type:"hidden",value:"false",id:"speakerColSelected"}}),n("ul",{staticClass:"context-menu__items"},e._l(e.contextMenuArray,(function(t,i){return n("li",{directives:[{name:"show",rawName:"v-show",value:e.shouldShow(i),expression:"shouldShow(index)"}],key:i,class:{"context-menu__item":!0,"context-menu__item-multiple":e.isMultipleDropdown(t)}},[n("a",{staticClass:"context-menu__link",attrs:{href:"#"},on:{click:function(n){return e.handleContextClick(t)}}},[e._v(e._s(t)+" ")]),e.isTopicDropdown(t)?n("ul",{staticClass:"context-menu__items context-menu__subitem context-menu-parent"},e._l(e.dropdownArrays["topic"],(function(i,s){return n("li",{key:s,staticClass:"context-menu__sub-item context-menu__sub-item-multiple context-menu__sub-item-topic"},[n("a",{staticClass:"context-menu__link",attrs:{href:"#"}},[e._v(" "+e._s(s)+" → ")]),n("ul",{staticClass:"context-menu__items context-menu__sub-subitem"},e._l(i,(function(i){return n("li",{key:i,staticClass:"context-menu__sub-item"},[n("a",{staticClass:"context-menu__link",attrs:{href:"#"},on:{click:function(n){return e.handleDropdownClick(t,i)}}},[e._v(" "+e._s(i)+" ")])])})),0)])})),0):e._e(),e.isPromiseDropdown(t)?n("ul",{staticClass:"context-menu__items context-menu__subitem"},e._l(e.dropdownArrays["promise"],(function(i){return n("li",{key:i,staticClass:"context-menu__sub-item context-menu__sub-item-multiple"},[n("a",{staticClass:"context-menu__link",attrs:{href:"#"},on:{click:function(n){return e.handleDropdownClick(t,i)}}},[e._v(" "+e._s(i)+" ")])])})),0):e._e()])})),0)])}),_=[],w=(n("c975"),n("a434"),n("2909")),b={data:function(){return{taskItemParagaphInContext:null,taskItemSpeakerInContext:null,taskItemParagraphClassName:"col3",taskItemSpeakerClassName:"col2",contextMenuLinkClassName:"context-menu__link",contextMenuActive:"context-menu--active",menuState:0,menuWidth:null,menuHeight:null,clickCoords:null,clickCoordsX:null,clickCoordsY:null,windowWidth:null,windowHeight:null}},methods:{clickInsideElement:function(e,t){var n=e.srcElement||e.target;if(n.classList.contains(t))return n;while(n=n.parentNode)if(n.classList&&n.classList.contains(t))return n;return!1},contextListener:function(e){var t=this;document.addEventListener("contextmenu",(function(n){t.taskItemParagaphInContext=t.clickInsideElement(n,t.taskItemParagraphClassName),t.taskItemSpeakerInContext=t.clickInsideElement(n,t.taskItemSpeakerClassName),t.taskItemParagaphInContext?(n.preventDefault(),t.toggleMenuOn(e),t.positionMenu(n,e),document.getElementById("speakerColSelected").value=!1):t.taskItemSpeakerInContext?(n.preventDefault(),t.toggleMenuOn(e),t.positionMenu(n,e),document.getElementById("speakerColSelected").value=!0):(t.taskItemParagaphInContext=null,t.taskItemSpeakerInContext=null,t.toggleMenuOff(e))}))},getPosition:function(e){var t=0,n=0;return e||(e=window.event),e.pageX||e.pageY?(t=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:n}},clickListener:function(e){var t=this;document.addEventListener("click",(function(n){var i=t.clickInsideElement(n,t.contextMenuLinkClassName);if(i)n.preventDefault(),t.menuItemListener(e,i);else{var s=n.which||n.button;1===s&&t.toggleMenuOff(e)}}))},keyupListener:function(e){var t=this;window.onkeyup=function(n){27===n.keyCode&&t.toggleMenuOff(e)}},resizeListener:function(e){var t=this;window.onresize=function(n){t.toggleMenuOff(e)}},toggleMenuOn:function(e){1!==this.menuState&&(this.menuState=1,e.classList.add(this.contextMenuActive))},toggleMenuOff:function(e){0!==this.menuState&&(this.menuState=0,e.classList.remove(this.contextMenuActive))},positionMenu:function(e,t){this.clickCoords=this.getPosition(e),this.clickCoordsX=this.clickCoords.x,this.clickCoordsY=this.clickCoords.y,document.getElementById("selectedRow").value=e.target.getAttribute("data-row"),this.menuWidth=t.offsetWidth+4,this.menuHeight=t.offsetHeight+4,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,t.style.top=this.clickCoordsY+"px",t.style.left=this.clickCoordsX+20+"px"},menuItemListener:function(e,t){this.toggleMenuOff(e)},initializeClipboard:function(e){this.contextListener(e),this.clickListener(e),this.keyupListener(e),this.resizeListener(e)}}},g={props:["firstRowTitles","isSpeakerSelected"],mixins:[b],data:function(){return{contextMenuArray:Object(w["a"])(this.firstRowTitles),dropdownArrays:{topic:{"CD DISC":["Disconnect"],"CD BILL":["Bill Explanation"],"CD EQIP":["How to Setup/Activate","Setup/Activation Issues"],"CD ACCT":["Port Status","Assumption of Liability","Insurance (TEC/TMP)","Corporate Information","Call Message Block","Change MTN","Prepaid Information","Spam/Spoof"],"CD TRBL":["Voice","Date Connection/Browser","Device Settings & Issues"],"CD PYMT":["Promise to Pay","Make Payment INTL"],"CD INTL":["Travel Pass","International Plan Feature Optl"],"CD PLAN":["Review Current PLAN","Add/Change"],"CD UPGR":["Marketing/Promotional Offers","Device Trade in/Recycling"],"CD BILL ELEU":["Discount"]},promise:["Call_back","Drop_ship","Dispatch","Send_to_offline","No_charge","Transfer","First_appointment","Sooner_appointment","Will_be_there_today","Refer_to_other_group","Outage_will_be_resolved_by_time","OTHER","NO_PROMISE","BROKEN_PROMISE","promise_cancelled"]}}},mounted:function(){this.contextMenuArray.splice(0,4),this.initializeClipboard(this.$refs["context-menu"])},computed:{},methods:{shouldShow:function(e){return this.isSpeakerSelected?e>16:e<17},handleDropdownClick:function(e,t){var n=this.firstRowTitles.indexOf(e),i=this.$refs["selectedRow"].value;this.$emit("send-result-values",{row:i,col:n,text:t})},isMultipleDropdown:function(e){return"TOPIC1"==e||"TOPIC2"==e||"promise1"==e||"promise2"==e||"agent"==e||"customer"==e},isTopicDropdown:function(e){return"topic"==e.substring(0,e.length-1).toLowerCase()},isPromiseDropdown:function(e){return"promise"==e.substring(0,e.length-1).toLowerCase()},handleContextClick:function(e){var t=this.firstRowTitles.indexOf(e),n=this.$refs["selectedRow"].value;this.$emit("send-result-values",{row:n,col:t,text:this.getSelectionText()})},getSelectionText:function(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(e=document.selection.createRange().text),e}}},y=g,C=(n("9789"),Object(l["a"])(y,v,_,!1,null,null,null)),x=C.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer"},e._l(this.firstRowTitles,(function(t,i){return n("div",{key:t,staticClass:"form-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.columnVisibilityMap[i],expression:"columnVisibilityMap[index]"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.columnVisibilityMap[i])?e._i(e.columnVisibilityMap[i],null)>-1:e.columnVisibilityMap[i]},on:{change:function(t){var n=e.columnVisibilityMap[i],s=t.target,a=!!s.checked;if(Array.isArray(n)){var o=null,r=e._i(n,o);s.checked?r<0&&e.$set(e.columnVisibilityMap,i,n.concat([o])):r>-1&&e.$set(e.columnVisibilityMap,i,n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.columnVisibilityMap,i,a)}}}),n("label",{staticClass:"form-check-label",attrs:{for:t}},[e._v(" "+e._s(t)+" ")])])})),0)},S=[],T={props:["firstRowTitles","columnVisibilityMap"],data:function(){return{}},methods:{}},M=T,I=(n("da33"),Object(l["a"])(M,k,S,!1,null,null,null)),A=I.exports,D={components:{ContextMenu:x,TableFooter:A},props:["csvDataArray","fileName"],data:function(){return{firstRowTitles:["fnum","line","speaker","paragraph","annotators_name","TOPIC1","twrd1","pharse1","TOPIC2","twrd2","pharse2","sentiment_phrase1","sentiment_phrase2","promise1","pwrd1","promise_phrase1","promise2","pwrd2","promise_phrase2","promise_comment","cpn_name","agent","customer"],columVisibilityMap:[!0,!0,!0,!0,!0,!0,!1,!1,!0,!1,!1,!1,!1,!0,!1,!1,!0,!1,!1,!1,!1,!0,!0],isSpeakerSelected:!1}},mounted:function(){},methods:{getTextAreaRows:function(e){var t=e.length;if(t>22){var n=Math.ceil(t/22);return n}return 1},exportTableToCSV:function(){var e=[];e.push(this.firstRowTitles.join(","));for(var t=0;t<this.csvDataArray.length;t++){var n=this.csvDataArray[t],i=n.join(",");e.push(i)}var s,a,o=e.join("\n");s=new Blob([o],{type:"text/csv"}),a=document.createElement("a"),a.download=this.fileName,a.href=window.URL.createObjectURL(s),a.style.display="none",document.body.appendChild(a),a.click()},handleSelectedText:function(e){""==e.text?alert("empty text"):this.csvDataArray[e.row][e.col]=e.text,this.$forceUpdate()},selectSpeakerActive:function(e,t){if(2==t){var n=e.target;n.focus(),n.select(),this.isSpeakerSelected=!0}else this.isSpeakerSelected=!1}}},O=D,P=(n("5817"),Object(l["a"])(O,m,h,!1,null,null,null)),L=P.exports,R={components:{TableView:L},data:function(){return{selectedFileName:"Choose File",csvFile:null,initialTableDataArray:[],columnNamesArray:[],cpn_name:"",csvDataArray:[]}},methods:{getExtension:function(e){e=e.toString();var t=e.split(".");return t[t.length-1].trim()},readFile:function(){var e=this;console.log("i am here ");var t=new FileReader;window.File&&window.FileReader&&window.FileList&&window.Blob?(t.onload=function(t){var n=t.target.result.split("\n");e.csvDataArray=[];for(var i=1;i<n.length;i++){var s=n[i].split(",");s.length<=22&&(n[i]=n[i]+",,,,,,,,,,,",s=n[i].split(","));for(var a=[],o=0;o<s.length;o++)a.push(s[o]);e.csvDataArray.push(a)}},t.readAsText(this.file)):alert("The File APIs are not fully supported in this browser.")},uploadFile:function(){this.file=this.$refs.file.files[0],this.file&&this.file.name&&this.getExtension(this.file.name)?(this.selectedFileName=this.file.name.toString(),this.readFile()):alert("Invalid file, Please upload a csv file")}}},E=R,N=Object(l["a"])(E,p,f,!1,null,null,null),F=N.exports,V={name:"app",components:{Header:d,UploadFile:F}},j=V,$=Object(l["a"])(j,s,a,!1,null,null,null),H=$.exports,B=n("5f5b");n("f9e3"),n("2dd8");i["default"].config.productionTip=!1,i["default"].use(B["a"]),new i["default"]({render:function(e){return e(H)}}).$mount("#app")},5817:function(e,t,n){"use strict";var i=n("f579"),s=n.n(i);s.a},9789:function(e,t,n){"use strict";var i=n("1ec2"),s=n.n(i);s.a},af35:function(e,t,n){},da33:function(e,t,n){"use strict";var i=n("3697"),s=n.n(i);s.a},f579:function(e,t,n){}});
//# sourceMappingURL=app.d37acab1.js.map